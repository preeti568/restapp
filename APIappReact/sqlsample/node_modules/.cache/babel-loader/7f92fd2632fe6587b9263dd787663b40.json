{"ast":null,"code":"'use strict';\n\nconst MSSQLError = require('./mssql-error');\n/**\r\n * Class RequestError.\r\n *\r\n * @property {String} number Error number.\r\n * @property {Number} lineNumber Line number.\r\n * @property {String} state Error state.\r\n * @property {String} class Error class.\r\n * @property {String} serverName Server name.\r\n * @property {String} procName Procedure name.\r\n */\n\n\nclass RequestError extends MSSQLError {\n  /**\r\n   * Creates a new RequestError.\r\n   *\r\n   * @param {String} message Error message.\r\n   * @param {String} [code] Error code.\r\n   */\n  constructor(message, code) {\n    super(message, code);\n\n    if (message instanceof Error) {\n      if (message.info) {\n        this.number = message.info.number || message.code; // err.code is returned by msnodesql driver\n\n        this.lineNumber = message.info.lineNumber;\n        this.state = message.info.state || message.sqlstate; // err.sqlstate is returned by msnodesql driver\n\n        this.class = message.info.class;\n        this.serverName = message.info.serverName;\n        this.procName = message.info.procName;\n      } else {\n        this.number = message.code; // err.code is returned by msnodesql driver\n\n        this.state = message.sqlstate; // err.sqlstate is returned by msnodesql driver\n      }\n    }\n\n    this.name = 'RequestError';\n\n    if (/^\\[Microsoft\\]\\[SQL Server Native Client 11\\.0\\](?:\\[SQL Server\\])?([\\s\\S]*)$/.exec(this.message)) {\n      this.message = RegExp.$1;\n    }\n  }\n\n}\n\nmodule.exports = RequestError;","map":{"version":3,"sources":["C:/Projects/sqlsample/node_modules/mssql/lib/error/request-error.js"],"names":["MSSQLError","require","RequestError","constructor","message","code","Error","info","number","lineNumber","state","sqlstate","class","serverName","procName","name","exec","RegExp","$1","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,UAAU,GAAGC,OAAO,CAAC,eAAD,CAA1B;AAEA;;;;;;;;;;;;AAWA,MAAMC,YAAN,SAA2BF,UAA3B,CAAsC;AACpC;;;;;;AAOAG,EAAAA,WAAW,CAAEC,OAAF,EAAWC,IAAX,EAAiB;AAC1B,UAAMD,OAAN,EAAeC,IAAf;;AACA,QAAID,OAAO,YAAYE,KAAvB,EAA8B;AAC5B,UAAIF,OAAO,CAACG,IAAZ,EAAkB;AAChB,aAAKC,MAAL,GAAcJ,OAAO,CAACG,IAAR,CAAaC,MAAb,IAAuBJ,OAAO,CAACC,IAA7C,CADgB,CACkC;;AAClD,aAAKI,UAAL,GAAkBL,OAAO,CAACG,IAAR,CAAaE,UAA/B;AACA,aAAKC,KAAL,GAAaN,OAAO,CAACG,IAAR,CAAaG,KAAb,IAAsBN,OAAO,CAACO,QAA3C,CAHgB,CAGoC;;AACpD,aAAKC,KAAL,GAAaR,OAAO,CAACG,IAAR,CAAaK,KAA1B;AACA,aAAKC,UAAL,GAAkBT,OAAO,CAACG,IAAR,CAAaM,UAA/B;AACA,aAAKC,QAAL,GAAgBV,OAAO,CAACG,IAAR,CAAaO,QAA7B;AACD,OAPD,MAOO;AACL,aAAKN,MAAL,GAAcJ,OAAO,CAACC,IAAtB,CADK,CACsB;;AAC3B,aAAKK,KAAL,GAAaN,OAAO,CAACO,QAArB,CAFK,CAEyB;AAC/B;AACF;;AAED,SAAKI,IAAL,GAAY,cAAZ;;AACA,QAAK,+EAAD,CAAkFC,IAAlF,CAAuF,KAAKZ,OAA5F,CAAJ,EAA0G;AACxG,WAAKA,OAAL,GAAea,MAAM,CAACC,EAAtB;AACD;AACF;;AA5BmC;;AA+BtCC,MAAM,CAACC,OAAP,GAAiBlB,YAAjB","sourcesContent":["'use strict'\r\n\r\nconst MSSQLError = require('./mssql-error')\r\n\r\n/**\r\n * Class RequestError.\r\n *\r\n * @property {String} number Error number.\r\n * @property {Number} lineNumber Line number.\r\n * @property {String} state Error state.\r\n * @property {String} class Error class.\r\n * @property {String} serverName Server name.\r\n * @property {String} procName Procedure name.\r\n */\r\n\r\nclass RequestError extends MSSQLError {\r\n  /**\r\n   * Creates a new RequestError.\r\n   *\r\n   * @param {String} message Error message.\r\n   * @param {String} [code] Error code.\r\n   */\r\n\r\n  constructor (message, code) {\r\n    super(message, code)\r\n    if (message instanceof Error) {\r\n      if (message.info) {\r\n        this.number = message.info.number || message.code // err.code is returned by msnodesql driver\r\n        this.lineNumber = message.info.lineNumber\r\n        this.state = message.info.state || message.sqlstate // err.sqlstate is returned by msnodesql driver\r\n        this.class = message.info.class\r\n        this.serverName = message.info.serverName\r\n        this.procName = message.info.procName\r\n      } else {\r\n        this.number = message.code // err.code is returned by msnodesql driver\r\n        this.state = message.sqlstate // err.sqlstate is returned by msnodesql driver\r\n      }\r\n    }\r\n\r\n    this.name = 'RequestError'\r\n    if ((/^\\[Microsoft\\]\\[SQL Server Native Client 11\\.0\\](?:\\[SQL Server\\])?([\\s\\S]*)$/).exec(this.message)) {\r\n      this.message = RegExp.$1\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = RequestError\r\n"]},"metadata":{},"sourceType":"script"}