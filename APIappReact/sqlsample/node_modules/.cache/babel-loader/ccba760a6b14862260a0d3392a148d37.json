{"ast":null,"code":"'use strict';\n\nconst ConnectionPool = require('./connection-pool');\n\nconst PreparedStatement = require('./prepared-statement');\n\nconst Request = require('./request');\n\nconst Transaction = require('./transaction');\n\nconst {\n  ConnectionError,\n  TransactionError,\n  RequestError,\n  PreparedStatementError,\n  MSSQLError\n} = require('../error');\n\nconst shared = require('../shared');\n\nconst Table = require('../table');\n\nconst ISOLATION_LEVEL = require('../isolationlevel');\n\nconst {\n  TYPES\n} = require('../datatypes');\n\nconst {\n  connect,\n  close,\n  on,\n  off,\n  removeListener,\n  query,\n  batch\n} = require('../global-connection');\n\nmodule.exports = {\n  ConnectionPool,\n  Transaction,\n  Request,\n  PreparedStatement,\n  ConnectionError,\n  TransactionError,\n  RequestError,\n  PreparedStatementError,\n  MSSQLError,\n  driver: shared.driver,\n  exports: {\n    ConnectionError,\n    TransactionError,\n    RequestError,\n    PreparedStatementError,\n    MSSQLError,\n    Table,\n    ISOLATION_LEVEL,\n    TYPES,\n    MAX: 65535,\n    // (1 << 16) - 1\n    map: shared.map,\n    getTypeByValue: shared.getTypeByValue,\n    connect,\n    close,\n    on,\n    removeListener,\n    off,\n    query,\n    batch\n  }\n};\nObject.defineProperty(module.exports, 'Promise', {\n  enumerable: true,\n  get: () => {\n    return shared.Promise;\n  },\n  set: value => {\n    shared.Promise = value;\n  }\n});\n\nfor (const key in TYPES) {\n  const value = TYPES[key];\n  module.exports.exports[key] = value;\n  module.exports.exports[key.toUpperCase()] = value;\n}\n/**\r\n * @callback Request~requestCallback\r\n * @param {Error} err Error on error, otherwise null.\r\n * @param {Object} [result] Request result.\r\n */\n\n/**\r\n * @callback Request~bulkCallback\r\n * @param {Error} err Error on error, otherwise null.\r\n * @param {Number} [rowsAffected] Number of affected rows.\r\n */\n\n/**\r\n * @callback basicCallback\r\n * @param {Error} err Error on error, otherwise null.\r\n * @param {Connection} [connection] Acquired connection.\r\n */\n\n/**\r\n * @callback acquireCallback\r\n * @param {Error} err Error on error, otherwise null.\r\n * @param {Connection} [connection] Acquired connection.\r\n * @param {Object} [config] Connection config\r\n */\n\n/**\r\n * Dispatched after connection has established.\r\n * @event ConnectionPool#connect\r\n */\n\n/**\r\n * Dispatched after connection has closed a pool (by calling close).\r\n * @event ConnectionPool#close\r\n */\n\n/**\r\n * Dispatched when transaction begin.\r\n * @event Transaction#begin\r\n */\n\n/**\r\n * Dispatched on successful commit.\r\n * @event Transaction#commit\r\n */\n\n/**\r\n * Dispatched on successful rollback.\r\n * @event Transaction#rollback\r\n */\n\n/**\r\n * Dispatched when metadata for new recordset are parsed.\r\n * @event Request#recordset\r\n */\n\n/**\r\n * Dispatched when new row is parsed.\r\n * @event Request#row\r\n */\n\n/**\r\n * Dispatched when request is complete.\r\n * @event Request#done\r\n */\n\n/**\r\n * Dispatched on error.\r\n * @event Request#error\r\n */","map":{"version":3,"sources":["C:/Projects/sqlsample/node_modules/mssql/lib/base/index.js"],"names":["ConnectionPool","require","PreparedStatement","Request","Transaction","ConnectionError","TransactionError","RequestError","PreparedStatementError","MSSQLError","shared","Table","ISOLATION_LEVEL","TYPES","connect","close","on","off","removeListener","query","batch","module","exports","driver","MAX","map","getTypeByValue","Object","defineProperty","enumerable","get","Promise","set","value","key","toUpperCase"],"mappings":"AAAA;;AAEA,MAAMA,cAAc,GAAGC,OAAO,CAAC,mBAAD,CAA9B;;AACA,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,sBAAD,CAAjC;;AACA,MAAME,OAAO,GAAGF,OAAO,CAAC,WAAD,CAAvB;;AACA,MAAMG,WAAW,GAAGH,OAAO,CAAC,eAAD,CAA3B;;AACA,MAAM;AAAEI,EAAAA,eAAF;AAAmBC,EAAAA,gBAAnB;AAAqCC,EAAAA,YAArC;AAAmDC,EAAAA,sBAAnD;AAA2EC,EAAAA;AAA3E,IAA0FR,OAAO,CAAC,UAAD,CAAvG;;AACA,MAAMS,MAAM,GAAGT,OAAO,CAAC,WAAD,CAAtB;;AACA,MAAMU,KAAK,GAAGV,OAAO,CAAC,UAAD,CAArB;;AACA,MAAMW,eAAe,GAAGX,OAAO,CAAC,mBAAD,CAA/B;;AACA,MAAM;AAAEY,EAAAA;AAAF,IAAYZ,OAAO,CAAC,cAAD,CAAzB;;AACA,MAAM;AAAEa,EAAAA,OAAF;AAAWC,EAAAA,KAAX;AAAkBC,EAAAA,EAAlB;AAAsBC,EAAAA,GAAtB;AAA2BC,EAAAA,cAA3B;AAA2CC,EAAAA,KAA3C;AAAkDC,EAAAA;AAAlD,IAA4DnB,OAAO,CAAC,sBAAD,CAAzE;;AAEAoB,MAAM,CAACC,OAAP,GAAiB;AACftB,EAAAA,cADe;AAEfI,EAAAA,WAFe;AAGfD,EAAAA,OAHe;AAIfD,EAAAA,iBAJe;AAKfG,EAAAA,eALe;AAMfC,EAAAA,gBANe;AAOfC,EAAAA,YAPe;AAQfC,EAAAA,sBARe;AASfC,EAAAA,UATe;AAUfc,EAAAA,MAAM,EAAEb,MAAM,CAACa,MAVA;AAWfD,EAAAA,OAAO,EAAE;AACPjB,IAAAA,eADO;AAEPC,IAAAA,gBAFO;AAGPC,IAAAA,YAHO;AAIPC,IAAAA,sBAJO;AAKPC,IAAAA,UALO;AAMPE,IAAAA,KANO;AAOPC,IAAAA,eAPO;AAQPC,IAAAA,KARO;AASPW,IAAAA,GAAG,EAAE,KATE;AASK;AACZC,IAAAA,GAAG,EAAEf,MAAM,CAACe,GAVL;AAWPC,IAAAA,cAAc,EAAEhB,MAAM,CAACgB,cAXhB;AAYPZ,IAAAA,OAZO;AAaPC,IAAAA,KAbO;AAcPC,IAAAA,EAdO;AAePE,IAAAA,cAfO;AAgBPD,IAAAA,GAhBO;AAiBPE,IAAAA,KAjBO;AAkBPC,IAAAA;AAlBO;AAXM,CAAjB;AAiCAO,MAAM,CAACC,cAAP,CAAsBP,MAAM,CAACC,OAA7B,EAAsC,SAAtC,EAAiD;AAC/CO,EAAAA,UAAU,EAAE,IADmC;AAE/CC,EAAAA,GAAG,EAAE,MAAM;AACT,WAAOpB,MAAM,CAACqB,OAAd;AACD,GAJ8C;AAK/CC,EAAAA,GAAG,EAAGC,KAAD,IAAW;AACdvB,IAAAA,MAAM,CAACqB,OAAP,GAAiBE,KAAjB;AACD;AAP8C,CAAjD;;AAUA,KAAK,MAAMC,GAAX,IAAkBrB,KAAlB,EAAyB;AACvB,QAAMoB,KAAK,GAAGpB,KAAK,CAACqB,GAAD,CAAnB;AACAb,EAAAA,MAAM,CAACC,OAAP,CAAeA,OAAf,CAAuBY,GAAvB,IAA8BD,KAA9B;AACAZ,EAAAA,MAAM,CAACC,OAAP,CAAeA,OAAf,CAAuBY,GAAG,CAACC,WAAJ,EAAvB,IAA4CF,KAA5C;AACD;AAED;;;;;;AAMA;;;;;;AAMA;;;;;;AAMA;;;;;;;AAOA;;;;;AAKA;;;;;AAKA;;;;;AAKA;;;;;AAKA;;;;;AAKA;;;;;AAKA;;;;;AAKA;;;;;AAKA","sourcesContent":["'use strict'\r\n\r\nconst ConnectionPool = require('./connection-pool')\r\nconst PreparedStatement = require('./prepared-statement')\r\nconst Request = require('./request')\r\nconst Transaction = require('./transaction')\r\nconst { ConnectionError, TransactionError, RequestError, PreparedStatementError, MSSQLError } = require('../error')\r\nconst shared = require('../shared')\r\nconst Table = require('../table')\r\nconst ISOLATION_LEVEL = require('../isolationlevel')\r\nconst { TYPES } = require('../datatypes')\r\nconst { connect, close, on, off, removeListener, query, batch } = require('../global-connection')\r\n\r\nmodule.exports = {\r\n  ConnectionPool,\r\n  Transaction,\r\n  Request,\r\n  PreparedStatement,\r\n  ConnectionError,\r\n  TransactionError,\r\n  RequestError,\r\n  PreparedStatementError,\r\n  MSSQLError,\r\n  driver: shared.driver,\r\n  exports: {\r\n    ConnectionError,\r\n    TransactionError,\r\n    RequestError,\r\n    PreparedStatementError,\r\n    MSSQLError,\r\n    Table,\r\n    ISOLATION_LEVEL,\r\n    TYPES,\r\n    MAX: 65535, // (1 << 16) - 1\r\n    map: shared.map,\r\n    getTypeByValue: shared.getTypeByValue,\r\n    connect,\r\n    close,\r\n    on,\r\n    removeListener,\r\n    off,\r\n    query,\r\n    batch\r\n  }\r\n}\r\n\r\nObject.defineProperty(module.exports, 'Promise', {\r\n  enumerable: true,\r\n  get: () => {\r\n    return shared.Promise\r\n  },\r\n  set: (value) => {\r\n    shared.Promise = value\r\n  }\r\n})\r\n\r\nfor (const key in TYPES) {\r\n  const value = TYPES[key]\r\n  module.exports.exports[key] = value\r\n  module.exports.exports[key.toUpperCase()] = value\r\n}\r\n\r\n/**\r\n * @callback Request~requestCallback\r\n * @param {Error} err Error on error, otherwise null.\r\n * @param {Object} [result] Request result.\r\n */\r\n\r\n/**\r\n * @callback Request~bulkCallback\r\n * @param {Error} err Error on error, otherwise null.\r\n * @param {Number} [rowsAffected] Number of affected rows.\r\n */\r\n\r\n/**\r\n * @callback basicCallback\r\n * @param {Error} err Error on error, otherwise null.\r\n * @param {Connection} [connection] Acquired connection.\r\n */\r\n\r\n/**\r\n * @callback acquireCallback\r\n * @param {Error} err Error on error, otherwise null.\r\n * @param {Connection} [connection] Acquired connection.\r\n * @param {Object} [config] Connection config\r\n */\r\n\r\n/**\r\n * Dispatched after connection has established.\r\n * @event ConnectionPool#connect\r\n */\r\n\r\n/**\r\n * Dispatched after connection has closed a pool (by calling close).\r\n * @event ConnectionPool#close\r\n */\r\n\r\n/**\r\n * Dispatched when transaction begin.\r\n * @event Transaction#begin\r\n */\r\n\r\n/**\r\n * Dispatched on successful commit.\r\n * @event Transaction#commit\r\n */\r\n\r\n/**\r\n * Dispatched on successful rollback.\r\n * @event Transaction#rollback\r\n */\r\n\r\n/**\r\n * Dispatched when metadata for new recordset are parsed.\r\n * @event Request#recordset\r\n */\r\n\r\n/**\r\n * Dispatched when new row is parsed.\r\n * @event Request#row\r\n */\r\n\r\n/**\r\n * Dispatched when request is complete.\r\n * @event Request#done\r\n */\r\n\r\n/**\r\n * Dispatched on error.\r\n * @event Request#error\r\n */\r\n"]},"metadata":{},"sourceType":"script"}